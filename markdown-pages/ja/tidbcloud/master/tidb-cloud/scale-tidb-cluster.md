---
title: Scale Your TiDB Cluster
summary: Learn how to scale your TiDB Cloud cluster.
aliases: ['/tidbcloud/beta/scale-tidb-cluter']
---

# TiDB クラスターをスケーリングする {#scale-your-tidb-cluster}

> **ノート：**
>
> -   現在、 [開発者層クラスタ](/tidb-cloud/select-cluster-tier.md#developer-tier)をスケーリングすることはできません。
> -   クラスタがスケーリング状態の場合、そのクラスターに対して新しいスケーリング操作を実行することはできません。

次のディメンションで TiDBクラスタをスケーリングできます。

-   TiDB、TiKV、TiFlash のノード番号
-   TiKV と TiFlash のストレージ サイズ
-   TiDB、TiKV、TiFlash のノード サイズ (vCPU とメモリを含む)

TiDBクラスタのサイズを決定する方法については、 [TiDB のサイズを決定する](/tidb-cloud/size-your-cluster.md) . を参照してください。

## ノード番号の変更 {#change-node-number}

TiDB、TiKV、または TiFlash ノードの数を変更できます。

### ノード数を増やす {#increase-node-number}

TiDB、TiKV、または TiFlash ノードの数を増やすには、次の手順を実行します。

1.  TiDB Cloudコンソールで、プロジェクトの**Active Clusters**ページに移動します。

2.  スケーリングするクラスタの領域を見つけて、その領域の右上隅にある [ **...** ] をクリックします。

    > **ヒント：**
    >
    > または、[**アクティブなクラスター**] ページでスケーリングするクラスタの名前をクリックし、右上隅にある [ <strong>...</strong> ] をクリックすることもできます。

3.  ドロップダウン メニューで [**スケール**] をクリックします。<strong>スケール</strong>ウィンドウが表示されます。

4.  **Scale**ウィンドウで、TiDB、TiKV、または TiFlash ノードの数を増やします。

5.  [**確認]**をクリックします。

### ノード番号を減らす {#decrease-node-number}

TiDB ノードの数を減らすには、次の手順を実行します。

1.  TiDB Cloudコンソールで、プロジェクトの**Active Clusters**ページに移動します。

2.  スケーリングするクラスタの領域を見つけて、その領域の右上隅にある [ **...** ] をクリックします。

    > **ヒント：**
    >
    > または、[**アクティブなクラスター**] ページでスケーリングするクラスタの名前をクリックし、右上隅にある [ <strong>...</strong> ] をクリックすることもできます。

3.  ドロップダウン メニューで [**スケール**] をクリックします。<strong>スケール</strong>ウィンドウが表示されます。

4.  [**スケール**] ウィンドウで、TiDB ノードの数を減らします。

5.  [**確認]**をクリックします。

TiKV または TiFlash ノードの数を減らすには、サポート チケットを送信する必要があります。 PingCAP サポート チームがお客様に連絡し、合意された時間内にスケーリングを完了します。

> **警告：**
>
> TiKV または TiFlash ノード番号を減らすことは危険であり、ストレージ容量が不足したり、CPU 使用率が過剰になったり、残りのノードでメモリ使用率が過剰になったりする可能性があります。

サポート チケットを送信するには、 [TiDB Cloudのサポート](/tidb-cloud/tidb-cloud-support.md)の手順を実行します。スケーリングするノードごとに、[**説明**] ボックスに次の情報を入力します。

-   クラスター名: xxx
-   クラウド プロバイダー: GCP または AWS
-   ノードタイプ: TiKV または TiFlash
-   現在のノード番号: xxx
-   予想されるノード番号: xxx

## ストレージ サイズの変更 {#change-storage-size}

TiKV または TiFlash のストレージ サイズを変更できます。

### ストレージ サイズを増やす {#increase-storage-size}

TiKV または TiFlash のストレージ サイズを増やすには、次の手順を実行します。

1.  TiDB Cloudコンソールで、プロジェクトの**Active Clusters**ページに移動します。

2.  スケーリングするクラスタの領域を見つけて、その領域の右上隅にある [ **...** ] をクリックします。

    > **ヒント：**
    >
    > または、[**アクティブなクラスター**] ページでスケーリングするクラスタの名前をクリックし、右上隅にある [ <strong>...</strong> ] をクリックすることもできます。

3.  ドロップダウン メニューで [**スケール**] をクリックします。<strong>スケール</strong>ウィンドウが表示されます。

4.  **Scale**ウィンドウで、TiKV または TiFlash のストレージ サイズを増やします。

5.  [**確認]**をクリックします。

> **ノート：**
>
> AWS には、ストレージ サイズの変更のクールダウン期間があります。 TiDBクラスタが AWS によってホストされている場合、TiKV または TiFlash のストレージ サイズを変更した後、再度変更するには、少なくとも 6 時間待つ必要があります。

### ストレージ サイズを減らす {#decrease-storage-size}

実行中のクラスタの場合、AWS と Google Cloud はインプレース ストレージ容量のダウングレードを許可しません。

## ノードサイズを大きくする {#increase-node-size}

クラスタの実行中は、そのノード サイズを増やすことはできません。このような変更を行うには、次のいずれかの方法を実行します。

-   方法 1: バックアップと復元によってノード サイズを増やす

    [クラスタの最新のバックアップを作成する](/tidb-cloud/backup-and-restore.md#manual-backup) 、そして[クラスタを削除します](/tidb-cloud/delete-tidb-cluster.md)のときにノード サイズを増やす必要があり[削除されたクラスタを復元する](/tidb-cloud/backup-and-restore.md#restore-a-deleted-cluster) 。この方法を実行する前に、次の影響が許容できることを確認してください。

    -   バックアップ中またはバックアップ後のデータ損失を回避するには、バックアップを作成する前に、SQL クライアントを介したクラスタへの接続を停止する必要があります。
    -   クラスタへの接続を停止すると、復元プロセスが完了するまで、このクラスタで実行されているアプリケーションは正常にサービスを提供できなくなります。

-   方法 2: サポート チケットを通じてノード サイズを増やす

    サポート チケットを送信するには、 [TiDB Cloudのサポート](/tidb-cloud/tidb-cloud-support.md)の手順を実行します。 PingCAP サポート チームがお客様に連絡し、合意された時間内にスケーリングを完了します。

    スケーリングするノードごとに、チケットの [**説明**] ボックスに次の情報を入力します。

    -   クラスター名: xxx
    -   クラウド プロバイダー: GCP または AWS
    -   ノード タイプ: TiDB、TiKV、または TiFlash
    -   現在のノード サイズ: xxx
    -   予想されるノード サイズ: xxx
