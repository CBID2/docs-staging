---
title: Scale Your TiDB Cluster
summary: Learn how to scale your TiDB Cloud cluster.
aliases: ['/tidbcloud/beta/scale-tidb-cluter']
---

# TiDBクラスターをスケーリングする {#scale-your-tidb-cluster}

> **ノート：**
>
> -   現在、 [開発者層クラスタ](/tidb-cloud/select-cluster-tier.md#developer-tier)をスケーリングすることはできません。
> -   クラスタがスケーリングステータスにある場合、クラスターに対して新しいスケーリング操作を実行することはできません。

TiDBクラスタは次の次元でスケーリングできます。

-   TiDB、TiKV、およびTiFlashのノード番号
-   TiKVとTiFlashのストレージサイズ
-   TiDB、TiKV、およびTiFlashのノードサイズ（vCPUとメモリを含む）

TiDBクラスタのサイズを決定する方法については、 [TiDBサイズを決定する](/tidb-cloud/size-your-cluster.md)を参照してください。

## ノード番号を変更する {#change-node-number}

TiDB、TiKV、またはTiFlashノードの数を変更できます。

### ノード番号を増やす {#increase-node-number}

TiDB、TiKV、またはTiFlashノードの数を増やすには、次の手順を実行します。

1.  TiDB Cloudコンソールで、プロジェクトの[**アクティブクラスター**]ページに移動し、スケーリングするクラスタの名前をクリックします。クラスタの概要ページが表示されます。
2.  左側のクラスタ情報ペインで、[**設定**]をクリックします。
3.  ドロップダウンメニューの[**スケール**]をクリックします。<strong>スケール</strong>ウィンドウが表示されます。
4.  [**スケール**]ウィンドウで、TiDB、TiKV、またはTiFlashノードの数を増やします。
5.  [**確認]**をクリックします。

### ノード番号を減らす {#decrease-node-number}

TiDBノードの数を減らすには、次の手順を実行します。

1.  TiDB Cloudコンソールで、プロジェクトの[**アクティブクラスター**]ページに移動し、スケーリングするクラスタの名前をクリックします。クラスタの概要ページが表示されます。
2.  左側のクラスタ情報ペインで、[**設定**]をクリックします。
3.  ドロップダウンメニューの[**スケール**]をクリックします。<strong>スケール</strong>ウィンドウが表示されます。
4.  [**スケール**]ウィンドウで、TiDBノードの数を減らします。
5.  [**確認]**をクリックします。

TiKVまたはTiFlashノードの数を減らすには、サポートチケットを送信する必要があります。 PingCAPサポートチームから連絡があり、合意された時間内にスケーリングが完了します。

> **警告：**
>
> TiKVまたはTiFlashノード数を減らすとリスクが発生する可能性があり、ストレージスペースの不足、CPU使用率の過剰、または残りのノードのメモリ使用量の過剰につながる可能性があります。

サポートチケットを送信するには、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)の手順を実行します。スケーリングするノードごとに、[**説明**]ボックスに次の情報を入力します。

-   クラスター名：xxx
-   クラウドプロバイダー：GCPまたはAWS
-   ノードタイプ：TiKVまたはTiFlash
-   現在のノード番号：xxx
-   予想されるノード番号：xxx

## ストレージサイズを変更する {#change-storage-size}

TiKVまたはTiFlashのストレージサイズを変更できます。

### ストレージサイズを増やす {#increase-storage-size}

TiKVまたはTiFlashのストレージサイズを増やすには、次の手順を実行します。

1.  TiDB Cloudコンソールで、プロジェクトの[**アクティブクラスター**]ページに移動し、スケーリングするクラスタの名前をクリックします。クラスタの概要ページが表示されます。
2.  左側のクラスタ情報ペインで、[**設定**]をクリックします。
3.  ドロップダウンメニューの[**スケール**]をクリックします。<strong>スケール</strong>ウィンドウが表示されます。
4.  [**スケール**]ウィンドウで、TiKVまたはTiFlashのストレージサイズを増やします。
5.  [**確認]**をクリックします。

> **ノート：**
>
> AWSには、ストレージサイズ変更のクールダウン期間があります。 TiDBクラスタがAWSによってホストされている場合、TiKVまたはTiFlashのストレージサイズを変更した後、再度変更する前に少なくとも6時間待つ必要があります。

### ストレージサイズを減らす {#decrease-storage-size}

実行中のクラスタの場合、AWSとGoogleCloudではインプレースストレージ容量のダウングレードは許可されていません。

## ノードサイズを増やす {#increase-node-size}

クラスタの実行中は、ノードサイズを増やすことはできません。このような変更を行うには、次のいずれかの方法を実行します。

-   方法1：バックアップと復元を通じてノードサイズを増やす

    [クラスタの最新のバックアップを作成する](/tidb-cloud/backup-and-restore.md#manual-backup)を実行し、 [クラスタを削除します](/tidb-cloud/delete-tidb-cluster.md)のときにノードサイズを増やす必要があり[削除したクラスタを復元する](/tidb-cloud/backup-and-restore.md#restore-a-deleted-cluster) 。この方法を採用する前に、次の影響が許容できることを確認してください。

    -   バックアップ中またはバックアップ後のデータ損失を回避するには、バックアップを作成する前に、SQLクライアントを介したクラスタへの接続を停止する必要があります。
    -   クラスタへの接続を停止すると、このクラスタで実行されているアプリケーションは、復元プロセスが完了するまで正常にサービスを提供できなくなります。

-   方法2：サポートチケットを使用してノードサイズを増やす

    サポートチケットを送信するには、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)の手順を実行します。 PingCAPサポートチームから連絡があり、合意された時間内にスケーリングが完了します。

    スケーリングするノードごとに、チケットの[**説明**]ボックスに次の情報を入力します。

    -   クラスター名：xxx
    -   クラウドプロバイダー：GCPまたはAWS
    -   ノードタイプ：TiDB、TiKV、またはTiFlash
    -   現在のノードサイズ：xxx
    -   予想されるノードサイズ：xxx
