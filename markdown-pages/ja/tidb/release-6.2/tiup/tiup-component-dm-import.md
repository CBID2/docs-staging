---
title: tiup dm import
---

# tiup dm import {#tiup-dm-import}

DM v1.0 では、クラスタは基本的に TiDB Ansible を使用してデプロイされます。 TiUP DMは、v1.0 クラスターをインポートし、クラスターを DM v2.0 に再デプロイするための`import`のコマンドを提供します。

> **ノート：**
>
> -   このコマンドは、DM v1.0 クラスターからの DM ポータル コンポーネントのインポートをサポートしていません。
> -   クラスタをインポートする前に、まず元のクラスタの実行を停止します。
> -   v2.0 にアップグレードする必要があるデータ移行タスクについては、これらのタスクで`stop-task`を実行しないでください。
> -   このコマンドは、DM v2.0.0-rc.2 以降のバージョンへのインポートのみをサポートします。
> -   `import`コマンドは、DM v1.0クラスタを新しい DM v2.0クラスタにインポートするために使用されます。データ移行タスクを既存の v2.0クラスタにインポートする必要がある場合は、 [TiDB データ移行を v1.0.x から v2.0+ に手動でアップグレードする](/dm/manually-upgrade-dm-1.0-to-2.0.md)を参照してください。
> -   一部のコンポーネントのデプロイメント ディレクトリは、元のクラスタのものとは異なる場合があります。 `display`コマンドで確認できます。
> -   クラスタをインポートする前に、 `tiup update --self && tiup update dm`を実行してTiUP DMコンポーネントを最新バージョンにアップグレードします。
> -   クラスタがインポートされた後、クラスターには DM-master ノードが 1 つだけ存在しクラスタ。 [`scale out`コマンド](/tiup/tiup-component-dm-scale-out.md)を参照して、DM マスター ノードをスケールアウトできます。

## 構文 {#syntax}

```shell
tiup dm import [flags]
```

## オプション {#options}

### -v, --cluster-version {#v-cluster-version}

-   再デプロイするためのバージョン番号を指定します。 v2.0.0-rc.2 (v2.0.0-rc.2 を含む) 以降のバージョンを使用する必要があります。
-   データ型: `STRING`
-   このオプションは、コマンドを実行するために**必要です**。

### -d, --dir {#d-dir}

-   TiDB Ansible のディレクトリを指定します。
-   データ型: `STRING`
-   コマンドでこのオプションが指定されていない場合、現在のディレクトリがデフォルトのディレクトリになります。

### &#x20;--inventory {#inventory}

-   Ansible インベントリー ファイルの名前を指定します。
-   データ型: `STRING`
-   このオプションがコマンドで指定されていない場合、デフォルトのファイル名は`"inventory.ini"`です。

### --rename {#rename}

-   インポートされたクラスタの名前を変更します。
-   データ型: `STRING`
-   このオプションがコマンドで指定されていない場合、デフォルトのクラスタ名はインベントリ ファイルで指定された`cluster_name`になります。

### -h, --help {#h-help}

-   ヘルプ情報を出力します。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトで無効になっており、値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、値`true`を渡すか、値を何も渡さないでください。

## 出力 {#outputs}

インポート プロセスのログ。

[&lt;&lt; 前のページに戻る - TiUP DMコマンド一覧](/tiup/tiup-component-dm.md#command-list)
